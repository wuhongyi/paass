<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PAASS: DetectorDriver Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PAASS
   </div>
   <div id="projectbrief">Software suite to Acquire and Analyze Data from Pixie16</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d91/class_detector_driver.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DetectorDriver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../de/d91/class_detector_driver.html" title="DetectorDriver controls event processing. ">DetectorDriver</a> controls event processing.  
 <a href="../../de/d91/class_detector_driver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dd/dfe/_detector_driver_8hpp_source.html">DetectorDriver.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3a556ab94a878e057dea8a081d0df55a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a3a556ab94a878e057dea8a081d0df55a">plot</a> (int dammId, double val1, double val2=-1, double val3=-1, const char *name=&quot;h&quot;)</td></tr>
<tr class="memdesc:a3a556ab94a878e057dea8a081d0df55a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d7/d8b/class_plots.html" title="Holds pointers to all Histograms. ">Plots</a> into histogram defined by dammId.  <a href="#a3a556ab94a878e057dea8a081d0df55a">More...</a><br /></td></tr>
<tr class="separator:a3a556ab94a878e057dea8a081d0df55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c152206c95dfbc2a98ffd1d002165e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a19c152206c95dfbc2a98ffd1d002165e">ProcessEvent</a> (<a class="el" href="../../dc/d32/class_raw_event.html">RawEvent</a> &amp;<a class="el" href="../../df/d40/_utk_unpacker_8cpp.html#a3d01817c4ce291b9e4d25dd6ecf5652d">rawev</a>)</td></tr>
<tr class="memdesc:a19c152206c95dfbc2a98ffd1d002165e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control of the event processing.  <a href="#a19c152206c95dfbc2a98ffd1d002165e">More...</a><br /></td></tr>
<tr class="separator:a19c152206c95dfbc2a98ffd1d002165e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae4e98c641d49183631eceb40dc19bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a2ae4e98c641d49183631eceb40dc19bb">ThreshAndCal</a> (<a class="el" href="../../d5/d91/class_chan_event.html">ChanEvent</a> *chan, <a class="el" href="../../dc/d32/class_raw_event.html">RawEvent</a> &amp;<a class="el" href="../../df/d40/_utk_unpacker_8cpp.html#a3d01817c4ce291b9e4d25dd6ecf5652d">rawev</a>)</td></tr>
<tr class="memdesc:a2ae4e98c641d49183631eceb40dc19bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check threshold and calibrate each channel. Check the thresholds and calibrate the energy for each channel using the calibrations contained in the calibration vector filled during ReadCal()  <a href="#a2ae4e98c641d49183631eceb40dc19bb">More...</a><br /></td></tr>
<tr class="separator:a2ae4e98c641d49183631eceb40dc19bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d368320dd66a1a368f08ddfb1be7a22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a2d368320dd66a1a368f08ddfb1be7a22">Init</a> (<a class="el" href="../../dc/d32/class_raw_event.html">RawEvent</a> &amp;<a class="el" href="../../df/d40/_utk_unpacker_8cpp.html#a3d01817c4ce291b9e4d25dd6ecf5652d">rawev</a>)</td></tr>
<tr class="separator:a2d368320dd66a1a368f08ddfb1be7a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2a28ba2a756e034e38630a5e258309"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a7f2a28ba2a756e034e38630a5e258309">PlotRaw</a> (const <a class="el" href="../../d5/d91/class_chan_event.html">ChanEvent</a> *chan)</td></tr>
<tr class="separator:a7f2a28ba2a756e034e38630a5e258309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad966b8fe4330bb0cf117422b9bd08f40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ad966b8fe4330bb0cf117422b9bd08f40">PlotCal</a> (const <a class="el" href="../../d5/d91/class_chan_event.html">ChanEvent</a> *)</td></tr>
<tr class="separator:ad966b8fe4330bb0cf117422b9bd08f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8810acdc149879688b81ec333531a28e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a8810acdc149879688b81ec333531a28e">DeclarePlots</a> ()</td></tr>
<tr class="separator:a8810acdc149879688b81ec333531a28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0211efad1ce0add8dc243ffcfeab8103"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a0211efad1ce0add8dc243ffcfeab8103">SanityCheck</a> (void) const </td></tr>
<tr class="separator:a0211efad1ce0add8dc243ffcfeab8103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a7d2c82b0bb1a9fb1c47d5a743b2cf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a9a7d2c82b0bb1a9fb1c47d5a743b2cf0">CorrelateClock</a> (double d, time_t t)</td></tr>
<tr class="separator:a9a7d2c82b0bb1a9fb1c47d5a743b2cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db08c317209259015b30a91c8f33241"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a7db08c317209259015b30a91c8f33241">GetWallTime</a> (double d) const </td></tr>
<tr class="separator:a7db08c317209259015b30a91c8f33241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e0a353c44443d405ab54718fdae67f"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d6/d65/class_event_processor.html">EventProcessor</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a31e0a353c44443d405ab54718fdae67f">GetProcessors</a> (void) const </td></tr>
<tr class="separator:a31e0a353c44443d405ab54718fdae67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce198d768456df664cf8ebab4bdbcb0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d65/class_event_processor.html">EventProcessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a6ce198d768456df664cf8ebab4bdbcb0">GetProcessor</a> (const std::string &amp;name) const </td></tr>
<tr class="separator:a6ce198d768456df664cf8ebab4bdbcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c6c0ac5dc900323093efac29f95d47"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d4/d8e/_setup_2source_2_c_make_lists_8txt.html#a3158207c9b00623215ed1b4906f10d4f">std::set</a>&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a83c6c0ac5dc900323093efac29f95d47">GetUsedDetectors</a> (void) const </td></tr>
<tr class="separator:a83c6c0ac5dc900323093efac29f95d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74cc085032fae77184ac8a773afa74a"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ac74cc085032fae77184ac8a773afa74a">~DetectorDriver</a> ()</td></tr>
<tr class="separator:ac74cc085032fae77184ac8a773afa74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a374a759674faebb18f7a2b4fa06c7a70"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a374a759674faebb18f7a2b4fa06c7a70">get</a> ()</td></tr>
<tr class="separator:a374a759674faebb18f7a2b4fa06c7a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ad452680e359d37272bf5007a8eaf9c97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dda/class_walk_corrector.html">WalkCorrector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ad452680e359d37272bf5007a8eaf9c97">walk</a></td></tr>
<tr class="memdesc:ad452680e359d37272bf5007a8eaf9c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of the walk correction.  <a href="#ad452680e359d37272bf5007a8eaf9c97">More...</a><br /></td></tr>
<tr class="separator:ad452680e359d37272bf5007a8eaf9c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ab95254e90fd4537368ee63fce10bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d61/class_calibrator.html">Calibrator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ac5ab95254e90fd4537368ee63fce10bf">cali</a></td></tr>
<tr class="memdesc:ac5ab95254e90fd4537368ee63fce10bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of the calibrator.  <a href="#ac5ab95254e90fd4537368ee63fce10bf">More...</a><br /></td></tr>
<tr class="separator:ac5ab95254e90fd4537368ee63fce10bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d56c4e8aa6f79c6ec04958ac539163"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d8b/class_plots.html">Plots</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a62d56c4e8aa6f79c6ec04958ac539163">histo</a></td></tr>
<tr class="memdesc:a62d56c4e8aa6f79c6ec04958ac539163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of the histogram class.  <a href="#a62d56c4e8aa6f79c6ec04958ac539163">More...</a><br /></td></tr>
<tr class="separator:a62d56c4e8aa6f79c6ec04958ac539163"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aac6fa05787b262bb9ca406e36a58668a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#aac6fa05787b262bb9ca406e36a58668a">DetectorDriver</a> ()</td></tr>
<tr class="separator:aac6fa05787b262bb9ca406e36a58668a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024dfbddbed1a2f62968321844036b03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a024dfbddbed1a2f62968321844036b03">DetectorDriver</a> (const <a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> &amp;)</td></tr>
<tr class="memdesc:a024dfbddbed1a2f62968321844036b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overloaded constructor.  <a href="#a024dfbddbed1a2f62968321844036b03">More...</a><br /></td></tr>
<tr class="separator:a024dfbddbed1a2f62968321844036b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4914261379164fe397b7d2726ec38dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ae4914261379164fe397b7d2726ec38dd">operator=</a> (<a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> const &amp;)</td></tr>
<tr class="memdesc:ae4914261379164fe397b7d2726ec38dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality constructor.  <a href="#ae4914261379164fe397b7d2726ec38dd">More...</a><br /></td></tr>
<tr class="separator:ae4914261379164fe397b7d2726ec38dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745e3089d76a4fa437e44a7e82b9424e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a745e3089d76a4fa437e44a7e82b9424e">DeclareHistogram1D</a> (int dammId, int xSize, const char *title)</td></tr>
<tr class="separator:a745e3089d76a4fa437e44a7e82b9424e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59589819db9e526e9abecb6328cc0e4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ac59589819db9e526e9abecb6328cc0e4">DeclareHistogram2D</a> (int dammId, int xSize, int ySize, const char *title)</td></tr>
<tr class="memdesc:ac59589819db9e526e9abecb6328cc0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a 2D histogram calls the C++ wrapper for DAMM.  <a href="#ac59589819db9e526e9abecb6328cc0e4">More...</a><br /></td></tr>
<tr class="separator:ac59589819db9e526e9abecb6328cc0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594450e52165ddad3727bf07d8900e65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a594450e52165ddad3727bf07d8900e65">LoadProcessors</a> (<a class="el" href="../../d6/dc9/class_messenger.html">Messenger</a> &amp;m)</td></tr>
<tr class="separator:a594450e52165ddad3727bf07d8900e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e1f2f1c6cd0e96b7a1eeeae806d486"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ad6e1f2f1c6cd0e96b7a1eeeae806d486">ReadCalXml</a> ()</td></tr>
<tr class="separator:ad6e1f2f1c6cd0e96b7a1eeeae806d486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bde0c6e38229294699852d1d04ba54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a42bde0c6e38229294699852d1d04ba54">ReadWalkXml</a> ()</td></tr>
<tr class="separator:a42bde0c6e38229294699852d1d04ba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6a645498fbfe845950f7a4c1a359c673"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d6/d65/class_event_processor.html">EventProcessor</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a6a645498fbfe845950f7a4c1a359c673">vecProcess</a></td></tr>
<tr class="separator:a6a645498fbfe845950f7a4c1a359c673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb40751ed65beca90fe802fe7329dc20"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d2/dbc/class_trace_analyzer.html">TraceAnalyzer</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#acb40751ed65beca90fe802fe7329dc20">vecAnalyzer</a></td></tr>
<tr class="separator:acb40751ed65beca90fe802fe7329dc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f561b950daf228cd7ee0e828b0cee44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d8e/_setup_2source_2_c_make_lists_8txt.html#a3158207c9b00623215ed1b4906f10d4f">std::set</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a5f561b950daf228cd7ee0e828b0cee44">knownDetectors</a></td></tr>
<tr class="separator:a5f561b950daf228cd7ee0e828b0cee44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a30bb6a2eb7351c1300faf34e4dadbb"><td class="memItemLeft" align="right" valign="top">std::pair&lt; double, time_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#a6a30bb6a2eb7351c1300faf34e4dadbb">pixieToWallClock</a></td></tr>
<tr class="separator:a6a30bb6a2eb7351c1300faf34e4dadbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ae5139f01118d5ab5d16772cf7c526bb5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d91/class_detector_driver.html#ae5139f01118d5ab5d16772cf7c526bb5">instance</a> = NULL</td></tr>
<tr class="memdesc:ae5139f01118d5ab5d16772cf7c526bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The only instance of <a class="el" href="../../de/d91/class_detector_driver.html" title="DetectorDriver controls event processing. ">DetectorDriver</a>.  <a href="#ae5139f01118d5ab5d16772cf7c526bb5">More...</a><br /></td></tr>
<tr class="separator:ae5139f01118d5ab5d16772cf7c526bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../de/d91/class_detector_driver.html" title="DetectorDriver controls event processing. ">DetectorDriver</a> controls event processing. </p>
<p>This class controls the processing of each event and includes the calibration of all raw energies, the plotting of raw and calibrated energies, and any experiment specific processing requirements </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac74cc085032fae77184ac8a773afa74a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DetectorDriver::~DetectorDriver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default Destructor - Not called due to singleton nature </p>

</div>
</div>
<a class="anchor" id="aac6fa05787b262bb9ca406e36a58668a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DetectorDriver::DetectorDriver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor that initializes the various processors and analyzers. </p>
<p>Any exception in registering plots in Processors and possible other exceptions in creating Processors will be intercepted here </p>

</div>
</div>
<a class="anchor" id="a024dfbddbed1a2f62968321844036b03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DetectorDriver::DetectorDriver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overloaded constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9a7d2c82b0bb1a9fb1c47d5a743b2cf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::CorrelateClock </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Correlates the pixie clock to the wall clock </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>: the pixie time to correlate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>: the wall time to correlate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a745e3089d76a4fa437e44a7e82b9424e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void DetectorDriver::DeclareHistogram1D </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dammId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>title</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Declares a 1D histogram calls the C++ wrapper for DAMM </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dammId</td><td>: The histogram number to define </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xSize</td><td>: The range of the x-axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">title</td><td>: The title for the histogram </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac59589819db9e526e9abecb6328cc0e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void DetectorDriver::DeclareHistogram2D </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dammId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>title</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Declares a 2D histogram calls the C++ wrapper for DAMM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dammId</td><td>: The histogram number to define </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xSize</td><td>: The range of the x-axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ySize</td><td>: The range of the y-axis </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">title</td><td>: The title of the histogram </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8810acdc149879688b81ec333531a28e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::DeclarePlots </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Declares the raw plots that are used, and loops over all the declare plots methods in all of the analyzers and processors. </p>

</div>
</div>
<a class="anchor" id="a374a759674faebb18f7a2b4fa06c7a70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> * DetectorDriver::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Instance is created upon first call </dd></dl>

</div>
</div>
<a class="anchor" id="a6ce198d768456df664cf8ebab4bdbcb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d65/class_event_processor.html">EventProcessor</a> * DetectorDriver::GetProcessor </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The requested event processor </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>: the name of the processor to return </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a31e0a353c44443d405ab54718fdae67f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="../../d6/d65/class_event_processor.html">EventProcessor</a> *&gt;&amp; DetectorDriver::GetProcessors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the list of the Event Processors in the analysis </dd></dl>

</div>
</div>
<a class="anchor" id="a83c6c0ac5dc900323093efac29f95d47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d4/d8e/_setup_2source_2_c_make_lists_8txt.html#a3158207c9b00623215ed1b4906f10d4f">std::set</a>&lt;std::string&gt;&amp; DetectorDriver::GetUsedDetectors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the set of detectors used in the analysis </dd></dl>

</div>
</div>
<a class="anchor" id="a7db08c317209259015b30a91c8f33241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t DetectorDriver::GetWallTime </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The wall time </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>: the pixie time to convert to wall time </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2d368320dd66a1a368f08ddfb1be7a22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d32/class_raw_event.html">RawEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>rawev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called from PixieStd.cpp during initialization. The calibration file Config.xml is read using the function ReadCal() and checked to make sure that all channels have a calibration. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rawev</td><td>: the raw event to initialize with </td></tr>
  </table>
  </dd>
</dl>
<p>Any exception in reading calibration and walk correction will be intercepted here </p>

</div>
</div>
<a class="anchor" id="a594450e52165ddad3727bf07d8900e65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::LoadProcessors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc9/class_messenger.html">Messenger</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Load the processors from the XML file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>: the messenger to pass the loading messages through </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae4914261379164fe397b7d2726ec38dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a>&amp; DetectorDriver::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equality constructor. </p>

</div>
</div>
<a class="anchor" id="a3a556ab94a878e057dea8a081d0df55a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void DetectorDriver::plot </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dammId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val2</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val3</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;h&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d7/d8b/class_plots.html" title="Holds pointers to all Histograms. ">Plots</a> into histogram defined by dammId. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dammId</td><td>: The histogram number to define </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val1</td><td>: the x value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val2</td><td>: the y value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val3</td><td>: the z value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>: the name of the histogram </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad966b8fe4330bb0cf117422b9bd08f40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DetectorDriver::PlotCal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d91/class_chan_event.html">ChanEvent</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plot the calibrated energies of each channel into the damm spectrum number assigned to it in the map file with an offset as defined in <a class="el" href="../../d3/d6f/_damm_plot_ids_8hpp.html" title="Lists Offsets and Ranges for various Processors. ">DammPlotIds.hpp</a> </p><dl class="section return"><dt>Returns</dt><dd>an unused integer maybe use void </dd></dl>

</div>
</div>
<a class="anchor" id="a7f2a28ba2a756e034e38630a5e258309"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DetectorDriver::PlotRaw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d91/class_chan_event.html">ChanEvent</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plot the raw energies of each channel into the damm spectrum number assigned to it in the map file with an offset as defined in <a class="el" href="../../d3/d6f/_damm_plot_ids_8hpp.html" title="Lists Offsets and Ranges for various Processors. ">DammPlotIds.hpp</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chan</td><td>: the channel to plot </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an unused integer maybe use void </dd></dl>

</div>
</div>
<a class="anchor" id="a19c152206c95dfbc2a98ffd1d002165e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::ProcessEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d32/class_raw_event.html">RawEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>rawev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control of the event processing. </p>
<p>The <a class="el" href="../../de/d91/class_detector_driver.html#a19c152206c95dfbc2a98ffd1d002165e" title="Control of the event processing. ">ProcessEvent()</a> function is called from ScanList() in PixieStd.cpp after an event has been constructed. This function is passed the mode the analysis is currently in (the options are either "scan" or "standaloneroot"). The function checks the thresholds for the individual channels in the event and calibrates their energies. The raw and calibrated energies are plotted if the appropriate DAMM spectra have been created. Then experiment specific processing is performed. Currently, both RMS and MTC processing is available. After all processing has occured, appropriate plotting routines are called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rawev</td><td>: the raw event to process </td></tr>
  </table>
  </dd>
</dl>
<p>First round is preprocessing, where process result must be guaranteed to not to be dependent on results of other Processors.</p>
<p>In the second round the Process is called, which may depend on other Processors.</p>
<p>Any exception in activation of basic places, PreProcess and Process will be intercepted here </p>

</div>
</div>
<a class="anchor" id="ad6e1f2f1c6cd0e96b7a1eeeae806d486"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::ReadCalXml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read in the Calibration parameters from the Config.xml </p>
<p>Note that before this reading in of the xml file, it was already processed for the purpose of creating the channels map. Some sanity checks (module and channel number) were done there so they are not repeated here/</p>

</div>
</div>
<a class="anchor" id="a42bde0c6e38229294699852d1d04ba54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::ReadWalkXml </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read in the Walk correction parameters from the Config.xml </p>
<p>See comment in the similiar place at <a class="el" href="../../de/d91/class_detector_driver.html#ad6e1f2f1c6cd0e96b7a1eeeae806d486">ReadCalXml()</a> </p>

</div>
</div>
<a class="anchor" id="a0211efad1ce0add8dc243ffcfeab8103"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DetectorDriver::SanityCheck </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Use Exceptions to throw an exception here if sanity check was not succesful </p>

</div>
</div>
<a class="anchor" id="a2ae4e98c641d49183631eceb40dc19bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DetectorDriver::ThreshAndCal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d91/class_chan_event.html">ChanEvent</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d32/class_raw_event.html">RawEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>rawev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check threshold and calibrate each channel. Check the thresholds and calibrate the energy for each channel using the calibrations contained in the calibration vector filled during ReadCal() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chan</td><td>: the channel to do the calibration on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rawev</td><td>: the raw event to write the information into </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an unused integer (maybe change to void) </dd></dl>
<p>Calibrate pulses numbered 2 and forth, add filterEnergyXCal to the trace</p>
<p>otherwise, use the Pixie on-board calculated energy add a random number to convert an integer value to a uniformly distributed floating point</p>
<p>Calibrate energy and apply the walk correction. </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ac5ab95254e90fd4537368ee63fce10bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d61/class_calibrator.html">Calibrator</a> DetectorDriver::cali</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance of the calibrator. </p>

</div>
</div>
<a class="anchor" id="a62d56c4e8aa6f79c6ec04958ac539163"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d8b/class_plots.html">Plots</a> DetectorDriver::histo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance of the histogram class. </p>

</div>
</div>
<a class="anchor" id="ae5139f01118d5ab5d16772cf7c526bb5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a> * DetectorDriver::instance = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The only instance of <a class="el" href="../../de/d91/class_detector_driver.html" title="DetectorDriver controls event processing. ">DetectorDriver</a>. </p>

</div>
</div>
<a class="anchor" id="a5f561b950daf228cd7ee0e828b0cee44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d8e/_setup_2source_2_c_make_lists_8txt.html#a3158207c9b00623215ed1b4906f10d4f">std::set</a>&lt;std::string&gt; DetectorDriver::knownDetectors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>list of valid detectors that can be used as detector types </p>

</div>
</div>
<a class="anchor" id="a6a30bb6a2eb7351c1300faf34e4dadbb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;double, time_t&gt; DetectorDriver::pixieToWallClock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>rough estimate of pixie to wall clock </p>

</div>
</div>
<a class="anchor" id="acb40751ed65beca90fe802fe7329dc20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d2/dbc/class_trace_analyzer.html">TraceAnalyzer</a>*&gt; DetectorDriver::vecAnalyzer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>object which analyzes traces of channels to extract energy and time information </p>

</div>
</div>
<a class="anchor" id="a6a645498fbfe845950f7a4c1a359c673"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d6/d65/class_event_processor.html">EventProcessor</a>*&gt; DetectorDriver::vecProcess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>vector of processors to handle each event </p>

</div>
</div>
<a class="anchor" id="ad452680e359d37272bf5007a8eaf9c97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dda/class_walk_corrector.html">WalkCorrector</a> DetectorDriver::walk</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instance of the walk correction. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../dd/dfe/_detector_driver_8hpp_source.html">DetectorDriver.hpp</a></li>
<li><a class="el" href="../../d4/df5/_detector_driver_8cpp.html">DetectorDriver.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d91/class_detector_driver.html">DetectorDriver</a></li>
    <li class="footer">Generated on Sat Jun 18 2016 11:53:03 for PAASS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
